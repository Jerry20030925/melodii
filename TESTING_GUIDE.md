# Melodii 新 UI 测试指南

## 🚀 如何运行应用

### 在 Xcode 中运行

1. Xcode 已经为你打开了项目
2. 在顶部工具栏，确保选择了 **iPhone 17** 作为目标设备
3. 点击 **播放按钮** (▶️) 或按 `Cmd+R`
4. 等待应用构建并启动

---

## ✅ 测试清单

### 第 1 步：首次启动 - 查看新主页

**期望效果：**
- ✅ 看到 "Melodii" Logo
- ✅ Slogan: "让每个普通瞬间，都值得被看见"
- ✅ 底部导航显示：Home | + | Connect | Me
- ✅ 如果有帖子，卡片应该显示温柔的设计（圆角、柔和配色）

**检查点：**
- [ ] 主页标题正确
- [ ] 底部导航正确（4 个 Tab）
- [ ] 卡片设计温柔、无压力

---

### 第 2 步：发布新动态（带情绪标签和城市）

**操作步骤：**

1. 点击底部的 **+** 按钮
2. 你会看到 "你想记录什么？" 的标题
3. 在文本框输入：`今天的咖啡很暖 ☕️`
4. 点击 **照片** 按钮，选择 1-2 张图片
5. 在 "现在的心情" 部分，点击选择：
   - **开心**
   - **发现美好**
6. 在 "兴趣标签" 部分，输入并添加：
   - `咖啡`
   - `慢生活`
7. 在城市输入框输入：`Adelaide`
8. **不要**开启匿名模式（先测试正常模式）
9. 点击右上角的 **发送** 按钮

**期望结果：**
- ✅ 显示 "发布成功 ✨"
- ✅ 表单自动重置
- ✅ 可以继续发布

**检查点：**
- [ ] 情绪标签可以多选
- [ ] 选中的标签有橙色边框
- [ ] 兴趣标签显示蓝色
- [ ] 城市输入框正常工作
- [ ] 发布成功

---

### 第 3 步：验证主页显示新帖子

**操作步骤：**

1. 发布后，点击底部的 **Home** 回到主页
2. 下拉刷新（pull to refresh）
3. 查看你刚发布的帖子

**期望效果：**

帖子卡片应该显示：
```
😊 [你的昵称] · Adelaide · 刚刚
今天的咖啡很暖 ☕️
[图片]
#开心 #发现美好    #咖啡 #慢生活
      ⬆️ 橙色        ⬆️ 蓝色
🤍 温暖   💬 留言   ⋯ 分享
```

**检查点：**
- [ ] 显示城市 "Adelaide"
- [ ] 情绪标签显示为橙色（#开心 #发现美好）
- [ ] 兴趣标签显示为蓝色（#咖啡 #慢生活）
- [ ] **没有**显示点赞数、评论数
- [ ] 只显示 "温暖"、"留言"、"分享" 文字

---

### 第 4 步：测试匿名发布

**操作步骤：**

1. 再次点击 **+** 按钮
2. 输入文字：`最近心情不太好…`
3. 在 "现在的心情" 选择：**孤独**
4. 在兴趣标签添加：`情绪` `夜晚`
5. **开启匿名发布开关** （紫色切换开关）
6. 点击 **发送**

**期望结果：**
- ✅ 发布成功
- ✅ 回到主页后，帖子显示为 "匿名" 而非你的昵称
- ✅ 头像显示为问号图标

**检查点：**
- [ ] 匿名开关可以切换
- [ ] 匿名帖子显示 "匿名" 文字
- [ ] 匿名帖子显示问号头像

---

### 第 5 步：测试 Connect 页面

**操作步骤：**

1. 点击底部的 **Connect** (✨ 图标)
2. 查看页面布局

**期望效果：**
- ✅ 顶部显示紫粉色渐变图标
- ✅ 标题：**找到同类**
- ✅ 副标题：认识有共鸣的人，不是约会，而是找到同频的陪伴
- ✅ 下方显示推荐用户卡片（如果有用户）

**检查点：**
- [ ] 页面标题和说明正确
- [ ] 用户卡片显示兴趣标签
- [ ] 有 "私信" 和 "关注" 按钮

---

### 第 6 步：测试温暖功能（点赞）

**操作步骤：**

1. 回到 **Home** 页面
2. 在任意一个帖子上，点击 **🤍 温暖** 按钮

**期望效果：**
- ✅ 心形图标变成粉色实心 ❤️
- ✅ 有轻微的放大动画
- ✅ **不显示数字**
- ✅ 再次点击可以取消

**检查点：**
- [ ] 点赞有视觉反馈
- [ ] 没有显示点赞数量
- [ ] 动画流畅

---

### 第 7 步：检查推荐卡片

**操作步骤：**

1. 在主页向下滚动
2. 查看是否出现 "可能和你同频的人" 卡片

**期望效果：**
- ✅ 每隔 5 个帖子出现一个推荐卡片
- ✅ 卡片有紫色边框
- ✅ 显示 "看看他的生活 →" 按钮

**检查点：**
- [ ] 推荐卡片出现
- [ ] 卡片设计符合预期
- [ ] 按钮可点击

---

## 🎨 UI 视觉检查清单

### 整体风格
- [ ] 配色柔和（蓝、紫、粉渐变）
- [ ] 卡片圆角（20pt）
- [ ] 阴影轻微
- [ ] 间距舒适

### 主页 (HomeView)
- [ ] Logo 显示正确
- [ ] Slogan 显示为灰色副标题
- [ ] Feed 卡片间距合适（20pt）
- [ ] 无压力设计（无数字显示）

### 发布页 (CreateView)
- [ ] 标题 "你想记录什么？"
- [ ] 副标题 "轻松分享，无需完美"
- [ ] 情绪标签有 8 个选项
- [ ] 选中状态明显（橙色边框）
- [ ] 匿名开关显示紫色

### Connect 页
- [ ] 顶部图标为渐变色
- [ ] 文案温柔
- [ ] 用户卡片设计一致

### 底部导航
- [ ] 4 个 Tab：Home、+、Connect、Me
- [ ] + 号图标较大
- [ ] 选中状态明显

---

## 🐛 可能遇到的问题

### 1. 应用闪退
**原因**: 可能是数据库连接问题
**解决**: 检查网络连接，确保 Supabase 可访问

### 2. 发布失败
**原因**: 可能是权限问题或网络问题
**解决**: 查看 Xcode 控制台的错误信息

### 3. 图片无法上传
**原因**: 照片权限未授权
**解决**: 设置 > Melodii > 照片 > 允许访问

### 4. 主页为空
**原因**: 数据库中没有帖子
**解决**: 发布几个测试帖子

---

## 📸 测试截图建议

建议你截图保存以下场景：

1. ✅ 主页 - 显示 Feed 和 Logo
2. ✅ 发布页 - 显示情绪标签选择
3. ✅ 帖子卡片 - 显示情绪标签（橙色）和兴趣标签（蓝色）
4. ✅ 匿名帖子 - 显示匿名模式
5. ✅ Connect 页面 - 显示推荐用户
6. ✅ 底部导航 - 显示 4 个 Tab

---

## ✅ 测试完成后

完成所有测试后，请告诉我：

1. **哪些功能正常**
2. **遇到了什么问题**（如果有）
3. **UI 是否符合预期**
4. **有什么改进建议**

---

祝测试顺利！🎉

如果遇到任何问题，随时告诉我！
